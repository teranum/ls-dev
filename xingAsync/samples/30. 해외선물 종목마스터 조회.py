# -*- coding: euc-kr -*-
from xingAsync import *
from common import *
from app_key import user_id, user_pwd, cert_pwd # app_key.py 퀛첊찌 牟燒 ID, 쥠좾, 썾쵓 쥠좾챹 첰천왍썴 import

async def sample(api: XingApi):
    if not await api.login(user_id, user_pwd, cert_pwd):
        return print(f"풤첉 쫞퀧: {api.last_message}")

    response = await api.request("o3101", "")
    if not response: return print(f'痰짛퀧: {api.last_message}')

    print(response)

if __name__ == "__main__":
    api = XingApi()
    run_loop(sample(api))

# Output:
'''
o3101: [00000] 촋炷챶 촜턎쌰 핑孤쮴챲핎.
o3101InBlock, Fields = 1, Count = 1
+-------+
| gubun |
+-------+
|       |
+-------+
o3101OutBlock, Fields = 26, Count = 44
+---------+---------------------------------------+----------+----------+------------------------------+--------+------------+---------+--------+--------+----------+----------+-----------+-------+---------+--------+---------+----------+---------+----------+----------+----------+----------+----------+-----------+-------+
|  Symbol |                SymbolNm               | ApplDate | BscGdsCd |           BscGdsNm           | ExchCd |   ExchNm   | CrncyCd | NotaCd | UntPrc | MnChgAmt | RgltFctr | CtrtPrAmt | GdsCd | LstngYr | LstngM |  EcPrc  | DlStrtTm | DlEndTm | DlPsblCd | MgnCltCd | OpngMgn  | MntncMgn | OpngMgnR | MntncMgnR | DotGb |
+---------+---------------------------------------+----------+----------+------------------------------+--------+------------+---------+--------+--------+----------+----------+-----------+-------+---------+--------+---------+----------+---------+----------+----------+----------+----------+----------+-----------+-------+
|  CUSX24 |       Renminbi_USD/CNH(2024.11)       | 20241118 |   CUS    |       Renminbi_USD/CNH       |  HKEX  | 턂커썐이 |   CNY   |   10   | 0.0001 |   10.0   |   1.0    |  100000.0 |  002  |   2024  |   X    |  7.2341 |  201500  |  193000 |    2     |    1     | 16957.0  | 16957.0  |   0.0    |    0.0    |   4   |
|  CUSZ24 |       Renminbi_USD/CNH(2024.12)       | 20241118 |   CUS    |       Renminbi_USD/CNH       |  HKEX  | 턂커썐이 |   CNY   |   10   | 0.0001 |   10.0   |   1.0    |  100000.0 |  002  |   2024  |   Z    |  7.2292 |  201500  |  193000 |    1     |    1     | 16957.0  | 16957.0  |   0.0    |    0.0    |   4   |
|  CUSF25 |       Renminbi_USD/CNH(2025.01)       | 20241118 |   CUS    |       Renminbi_USD/CNH       |  HKEX  | 턂커썐이 |   CNY   |   10   | 0.0001 |   10.0   |   1.0    |  100000.0 |  002  |   2025  |   F    |  7.2185 |  201500  |  193000 |    1     |    1     | 16957.0  | 16957.0  |   0.0    |    0.0    |   4   |
|  CUSG25 |       Renminbi_USD/CNH(2025.02)       | 20241118 |   CUS    |       Renminbi_USD/CNH       |  HKEX  | 턂커썐이 |   CNY   |   10   | 0.0001 |   10.0   |   1.0    |  100000.0 |  002  |   2025  |   G    |  7.205  |  201500  |  193000 |    1     |    1     | 16957.0  | 16957.0  |   0.0    |    0.0    |   4   |
|  CUSH25 |       Renminbi_USD/CNH(2025.03)       | 20241118 |   CUS    |       Renminbi_USD/CNH       |  HKEX  | 턂커썐이 |   CNY   |   10   | 0.0001 |   10.0   |   1.0    |  100000.0 |  002  |   2025  |   H    |  7.1948 |  201500  |  193000 |    1     |    1     | 16957.0  | 16957.0  |   0.0    |    0.0    |   4   |
|  CUSM25 |       Renminbi_USD/CNH(2025.06)       | 20241118 |   CUS    |       Renminbi_USD/CNH       |  HKEX  | 턂커썐이 |   CNY   |   10   | 0.0001 |   10.0   |   1.0    |  100000.0 |  002  |   2025  |   M    |  7.1583 |  201500  |  193000 |    1     |    1     | 16957.0  | 16957.0  |   0.0    |    0.0    |   4   |
|  CUSU25 |       Renminbi_USD/CNH(2025.09)       | 20241118 |   CUS    |       Renminbi_USD/CNH       |  HKEX  | 턂커썐이 |   CNY   |   10   | 0.0001 |   10.0   |   1.0    |  100000.0 |  002  |   2025  |   U    |  7.1201 |  201500  |  193000 |    1     |    1     | 16957.0  | 16957.0  |   0.0    |    0.0    |   4   |
| HCEIX24 |            H-Share(2024.11)           | 20241118 |   HCEI   |           H-Share            |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2024  |   X    |  6981.0 |  181500  |  173000 |    1     |    1     | 52402.0  | 52402.0  |   0.0    |    0.0    |   0   |
| HCEIZ24 |            H-Share(2024.12)           | 20241118 |   HCEI   |           H-Share            |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2024  |   Z    |  7001.0 |  181500  |  173000 |    1     |    1     | 52402.0  | 52402.0  |   0.0    |    0.0    |   0   |
| HCEIF25 |            H-Share(2025.01)           | 20241118 |   HCEI   |           H-Share            |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   F    |  7002.0 |  181500  |  173000 |    1     |    1     | 52402.0  | 52402.0  |   0.0    |    0.0    |   0   |
| HCEIG25 |            H-Share(2025.02)           | 20241118 |   HCEI   |           H-Share            |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   G    |  7035.0 |  181500  |  173000 |    1     |    1     | 52402.0  | 52402.0  |   0.0    |    0.0    |   0   |
| HCEIH25 |            H-Share(2025.03)           | 20241118 |   HCEI   |           H-Share            |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   H    |  7043.0 |  181500  |  173000 |    1     |    1     | 52402.0  | 52402.0  |   0.0    |    0.0    |   0   |
| HCEIM25 |            H-Share(2025.06)           | 20241118 |   HCEI   |           H-Share            |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   M    |  7026.0 |  181500  |  173000 |    1     |    1     | 52402.0  | 52402.0  |   0.0    |    0.0    |   0   |
| HCEIU25 |            H-Share(2025.09)           | 20241118 |   HCEI   |           H-Share            |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   U    |  6981.0 |  181500  |  173000 |    1     |    1     | 52402.0  | 52402.0  |   0.0    |    0.0    |   0   |
| HCHHX24 |         CES China 120(2024.11)        | 20241118 |   HCHH   |        CES China 120         |  HKEX  | 턂커썐이 |   HKD   |   10   |  0.5   |   25.0   |   1.0    |    50.0   |  001  |   2024  |   X    |  5831.0 |  101500  |  173000 |    1     |    1     | 28156.0  | 28156.0  |   0.0    |    0.0    |   1   |
| HCHHZ24 |         CES China 120(2024.12)        | 20241118 |   HCHH   |        CES China 120         |  HKEX  | 턂커썐이 |   HKD   |   10   |  0.5   |   25.0   |   1.0    |    50.0   |  001  |   2024  |   Z    |  5831.5 |  101500  |  173000 |    1     |    1     | 28156.0  | 28156.0  |   0.0    |    0.0    |   1   |
| HCHHH25 |         CES China 120(2025.03)        | 20241118 |   HCHH   |        CES China 120         |  HKEX  | 턂커썐이 |   HKD   |   10   |  0.5   |   25.0   |   1.0    |    50.0   |  001  |   2025  |   H    |  5832.0 |  101500  |  173000 |    1     |    1     | 28156.0  | 28156.0  |   0.0    |    0.0    |   1   |
| HCHHM25 |         CES China 120(2025.06)        | 20241118 |   HCHH   |        CES China 120         |  HKEX  | 턂커썐이 |   HKD   |   10   |  0.5   |   25.0   |   1.0    |    50.0   |  001  |   2025  |   M    |  5832.0 |  101500  |  173000 |    1     |    1     | 28156.0  | 28156.0  |   0.0    |    0.0    |   1   |
| HMCEX24 |         Mini H-Shares(2024.11)        | 20241118 |   HMCE   |        Mini H-Shares         |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   10.0   |   1.0    |    10.0   |  001  |   2024  |   X    |  6981.0 |  181500  |  173000 |    1     |    1     | 10480.0  | 10480.0  |   0.0    |    0.0    |   0   |
| HMCEZ24 |         Mini H-Shares(2024.12)        | 20241118 |   HMCE   |        Mini H-Shares         |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   10.0   |   1.0    |    10.0   |  001  |   2024  |   Z    |  7001.0 |  181500  |  173000 |    1     |    1     | 10480.0  | 10480.0  |   0.0    |    0.0    |   0   |
| HMCEH25 |         Mini H-Shares(2025.03)        | 20241118 |   HMCE   |        Mini H-Shares         |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   10.0   |   1.0    |    10.0   |  001  |   2025  |   H    |  7043.0 |  181500  |  173000 |    1     |    1     | 10480.0  | 10480.0  |   0.0    |    0.0    |   0   |
| HMCEM25 |         Mini H-Shares(2025.06)        | 20241118 |   HMCE   |        Mini H-Shares         |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   10.0   |   1.0    |    10.0   |  001  |   2025  |   M    |  7026.0 |  181500  |  173000 |    1     |    1     | 10480.0  | 10480.0  |   0.0    |    0.0    |   0   |
|  HMHX24 |        Mini Hang Seng(2024.11)        | 20241118 |   HMH    |        Mini Hang Seng        |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   10.0   |   1.0    |    10.0   |  001  |   2024  |   X    | 19419.0 |  181500  |  173000 |    1     |    1     | 26999.0  | 26999.0  |   0.0    |    0.0    |   0   |
|  HMHZ24 |        Mini Hang Seng(2024.12)        | 20241118 |   HMH    |        Mini Hang Seng        |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   10.0   |   1.0    |    10.0   |  001  |   2024  |   Z    | 19473.0 |  181500  |  173000 |    1     |    1     | 26999.0  | 26999.0  |   0.0    |    0.0    |   0   |
|  HMHH25 |        Mini Hang Seng(2025.03)        | 20241118 |   HMH    |        Mini Hang Seng        |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   10.0   |   1.0    |    10.0   |  001  |   2025  |   H    | 19545.0 |  181500  |  173000 |    1     |    1     | 26999.0  | 26999.0  |   0.0    |    0.0    |   0   |
|  HMHM25 |        Mini Hang Seng(2025.06)        | 20241118 |   HMH    |        Mini Hang Seng        |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   10.0   |   1.0    |    10.0   |  001  |   2025  |   M    | 19461.0 |  181500  |  173000 |    1     |    1     | 26999.0  | 26999.0  |   0.0    |    0.0    |   0   |
|  HSIX24 |           Hang Seng(2024.11)          | 20241118 |   HSI    |          Hang Seng           |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2024  |   X    | 19419.0 |  181500  |  173000 |    1     |    1     | 134995.0 | 134995.0 |   0.0    |    0.0    |   0   |
|  HSIZ24 |           Hang Seng(2024.12)          | 20241118 |   HSI    |          Hang Seng           |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2024  |   Z    | 19473.0 |  181500  |  173000 |    1     |    1     | 134995.0 | 134995.0 |   0.0    |    0.0    |   0   |
|  HSIF25 |           Hang Seng(2025.01)          | 20241118 |   HSI    |          Hang Seng           |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   F    | 19510.0 |  181500  |  173000 |    1     |    1     | 134995.0 | 134995.0 |   0.0    |    0.0    |   0   |
|  HSIG25 |           Hang Seng(2025.02)          | 20241118 |   HSI    |          Hang Seng           |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   G    | 19540.0 |  181500  |  173000 |    1     |    1     | 134995.0 | 134995.0 |   0.0    |    0.0    |   0   |
|  HSIH25 |           Hang Seng(2025.03)          | 20241118 |   HSI    |          Hang Seng           |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   H    | 19545.0 |  181500  |  173000 |    1     |    1     | 134995.0 | 134995.0 |   0.0    |    0.0    |   0   |
|  HSIM25 |           Hang Seng(2025.06)          | 20241118 |   HSI    |          Hang Seng           |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   M    | 19461.0 |  181500  |  173000 |    1     |    1     | 134995.0 | 134995.0 |   0.0    |    0.0    |   0   |
|  HSIU25 |           Hang Seng(2025.09)          | 20241118 |   HSI    |          Hang Seng           |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   U    | 19392.0 |  181500  |  173000 |    1     |    1     | 134995.0 | 134995.0 |   0.0    |    0.0    |   0   |
|  HTIX24 |        Hang Seng TECH(2024.11)        | 20241118 |   HTI    |        Hang Seng TECH        |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2024  |   X    |  4321.0 |  181500  |  173000 |    1     |    1     | 47720.0  | 47720.0  |   0.0    |    0.0    |   0   |
|  HTIZ24 |        Hang Seng TECH(2024.12)        | 20241118 |   HTI    |        Hang Seng TECH        |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2024  |   Z    |  4335.0 |  181500  |  173000 |    1     |    1     | 47720.0  | 47720.0  |   0.0    |    0.0    |   0   |
|  HTIF25 |        Hang Seng TECH(2025.01)        | 20241118 |   HTI    |        Hang Seng TECH        |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   F    |  4356.0 |  181500  |  173000 |    1     |    1     | 47720.0  | 47720.0  |   0.0    |    0.0    |   0   |
|  HTIG25 |        Hang Seng TECH(2025.02)        | 20241118 |   HTI    |        Hang Seng TECH        |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   G    |  4361.0 |  181500  |  173000 |    1     |    1     | 47720.0  | 47720.0  |   0.0    |    0.0    |   0   |
|  HTIH25 |        Hang Seng TECH(2025.03)        | 20241118 |   HTI    |        Hang Seng TECH        |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   H    |  4384.0 |  181500  |  173000 |    1     |    1     | 47720.0  | 47720.0  |   0.0    |    0.0    |   0   |
|  HTIM25 |        Hang Seng TECH(2025.06)        | 20241118 |   HTI    |        Hang Seng TECH        |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   M    |  4411.0 |  181500  |  173000 |    1     |    1     | 47720.0  | 47720.0  |   0.0    |    0.0    |   0   |
|  HTIU25 |        Hang Seng TECH(2025.09)        | 20241118 |   HTI    |        Hang Seng TECH        |  HKEX  | 턂커썐이 |   HKD   |   10   |  1.0   |   50.0   |   1.0    |    50.0   |  001  |   2025  |   U    |  4437.0 |  181500  |  173000 |    1     |    1     | 47720.0  | 47720.0  |   0.0    |    0.0    |   0   |
|  MCAZ24 | MSCI China A50 Connect Index(2024.12) | 20241118 |   MCA    | MSCI China A50 Connect Index |  HKEX  | 턂커썐이 |   USD   |   10   |  0.2   |   5.0    |   1.0    |    25.0   |  001  |   2024  |   Z    |  2123.4 |  181500  |  173000 |    1     |    1     |  8458.0  |  8458.0  |   0.0    |    0.0    |   2   |
|  MCAH25 | MSCI China A50 Connect Index(2025.03) | 20241118 |   MCA    | MSCI China A50 Connect Index |  HKEX  | 턂커썐이 |   USD   |   10   |  0.2   |   5.0    |   1.0    |    25.0   |  001  |   2025  |   H    |  2131.4 |  181500  |  173000 |    1     |    1     |  8458.0  |  8458.0  |   0.0    |    0.0    |   2   |
|  MCAM25 | MSCI China A50 Connect Index(2025.06) | 20241118 |   MCA    | MSCI China A50 Connect Index |  HKEX  | 턂커썐이 |   USD   |   10   |  0.2   |   5.0    |   1.0    |    25.0   |  001  |   2025  |   M    |  2134.0 |  181500  |  173000 |    1     |    1     |  8458.0  |  8458.0  |   0.0    |    0.0    |   2   |
|  MCAU25 | MSCI China A50 Connect Index(2025.09) | 20241118 |   MCA    | MSCI China A50 Connect Index |  HKEX  | 턂커썐이 |   USD   |   10   |  0.2   |   5.0    |   1.0    |    25.0   |  001  |   2025  |   U    |  2139.4 |  181500  |  173000 |    1     |    1     |  8458.0  |  8458.0  |   0.0    |    0.0    |   2   |
+---------+---------------------------------------+----------+----------+------------------------------+--------+------------+---------+--------+--------+----------+----------+-----------+-------+---------+--------+---------+----------+---------+----------+----------+----------+----------+----------+-----------+-------+
nRqID=21, cont_yn=False, cont_key=
+----------------------------+
|  request / elapsed times   |
+----------------------------+
| 2024-11-18 20:32:37.957851 |
|       0:00:00.006000       |
+----------------------------+
'''